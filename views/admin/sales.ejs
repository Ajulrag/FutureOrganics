<%- include('../admin/layouts/adminHeader')%>
<div class="col-lg-8" style="width: 76.666669%;padding-left: 0px;padding-right: 0px;">
    <div class="card body"style="height: 100%;overflow: auto;padding:0;padding-left:0;">
        <div style="display: flex;margin-bottom: 80px;margin: 10px;">
        <div>
            <label for="">From: </label>
            <input type="date">
        </div>
        <div style="margin-left: 20px;">
            <label for="">To:</label>
            <input type="date">
        </div>
        <button type="submit" style="margin-left: 50px;background-color: aqua;border: none;box-shadow: 0px 2px 5px 1px rgb(17, 141, 162);border-radius: 2px;">Submit</button>
        </div>
        <table id="example" class="display nowrap" style="width:100%;margin-top: 30px;">
            <thead>
                <tr>
                    <th><small>Order ID</small> </th>
                    <th><small>Order Date</small></th>
                    <th><small>Products</small></th>
                    <!-- <th>Quantity</th> -->
                    <th><small>Order Amount</small></th>
                    <th><small>MOP</small></th>
                    
                    <th><small>customer</small></th>
                    <th><small>Contact</small></th>
                </tr>
            </thead>
            <tbody>
                <% orderList.forEach(order => {%>
                    <tr>
                        <td><small><%= order._id %></small></td>
                        <td><small><%= order.createdAt.toISOString().substring(0,10) %></small></td>
                        <td>
                            <% order.products.forEach(product => {%>
                            <table>
                                <tr>
                                    <td><small></small><%= product.product.product %></td>
                                    <!-- <td><%= product.quantity %></td> -->
                                </tr>
                            </table>
                            <%})%>
                        </td>
                        <td><small><%= order.orderAmount %></small></td>
                        <td><small><%= order.payment %></small></td>
                        
                        <td><small><%= order.shippingAddress.name%><br><%= order.shippingAddress.street%>,<%= order.shippingAddress.locality%></small></td>
                        <td><small><%= order.shippingAddress.mobile %></small></td>
                    </tr>
                    <%})%>
            </tbody>
        </table>

</div>
</div>
<script>
    $(document).ready(function() {
    $('#example').DataTable( {
        dom: 'Bfrtip',
        buttons: [
            'excel', 
        ]
    } );
} );
</script>
<script>

</script>
<script type="text/javascript" src="https://code.jquery.com/jquery-3.5.1.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/1.13.4/js/jquery.dataTables.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/dataTables.buttons.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.html5.min.js"></script>
<script type="text/javascript" src="https://cdn.datatables.net/buttons/2.3.6/js/buttons.print.min.js"></script>