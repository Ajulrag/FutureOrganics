<%- include('../users/layouts/head') %>
<div class="registerwrap">
    <div class="containeres" > 
        <div class="form-group" class="login-div">
            <div class="register-form form">
                <div class="block-title">
                    <h2 class="title"><span>Create Account</span></h2>
                </div>
                <form action="/registration" method="post" >
                    <div class="form-group">
                        <label>Name</label>
                        <input class="form-control" type="text" name="name" required>
                    </div>  
                    <div class="form-group">
                        <label>Email</label>
                        <input class="form-control" type="email"  name="email" required>
                    </div>
                    <div class="form-group">
                        <label>Mobile</label>
                        <input class="form-control" id="phone-input" type="number" value="" name="mobile" required>
                        <small id="error" style="display: none">Phone no should contain 10 numbers</small>
                    </div>
                    <div class="form-group">
                        <label>Password</label>
                        <input class="form-control" type="password" value="" name="password" required>
                    </div>
                    <div style="padding-top: 20px;"  class="form-group text-center">
                        <input  type="submit" class="btn btn-success" value="Create Account">
                    </div>
                </form>
            
                <div>
                <%
                if(typeof message !== 'undefined') {
                    %>
                    <p style="color: green;"><%= message %></p>
                    <%
                }
                %>
                </div>
            </div>
        </div>
    </div>
</div>
<script>
    const phone = document.getElementById('phone-input');
    const error = document.getElementById('error');
    phone.addEventListener('input', function(e) {
        if (e.target.value.length > 10) {
            e.target.value = e.target.value.slice(0, 10);
        } 
        if (e.target.value.length ==  10) {
           error.style.display = 'none';
        } 
        if (e.target.value.length < 10) {
           error.style.display = 'block';
        } 
    })
</script>